global mode="release"

probe module( "jfs" ).function( "jfs_freeze" ) {
	if ( mode == "debug" ) {
		println( "jfs_freeze" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_freeze" )
		} else {
			@ops_super_freeze_fs( $sb )
		}
	}
}

probe module( "jfs" ).function( "jfs_unfreeze" ) {
	if ( mode == "debug" ) {
		println( "jfs_unfreeze" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_unfreeze" )
		} else {
			@ops_super_unfreeze_fs( $sb )
		}
	}
}

probe module( "jfs" ).function( "jfs_evict_inode" ) {
	if ( mode == "debug" ) {
		println( "jfs_evict_inode" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_evict_inode" )
		} else {
			@ops_super_evict_inode( $inode )
		}
	}
}

probe module( "jfs" ).function( "jfs_quota_write" ) {
	if ( mode == "debug" ) {
		println( "jfs_quota_write" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_quota_write" )
		} else {
			@ops_super_quota_write( $sb, $type, $data, $len, $off )
		}
	}
}

probe module( "jfs" ).function( "jfs_destroy_inode" ) {
	if ( mode == "debug" ) {
		println( "jfs_destroy_inode" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_destroy_inode" )
		} else {
			@ops_super_destroy_inode( $inode )
		}
	}
}

probe module( "jfs" ).function( "jfs_remount" ) {
	if ( mode == "debug" ) {
		println( "jfs_remount" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_remount" )
		} else {
			@ops_super_remount_fs( $sb, $flags, $data )
		}
	}
}

probe module( "jfs" ).function( "jfs_alloc_inode" ) {
	if ( mode == "debug" ) {
		println( "jfs_alloc_inode" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_alloc_inode" )
		} else {
			@ops_super_alloc_inode( $sb )
		}
	}
}

probe module( "jfs" ).function( "jfs_dirty_inode" ) {
	if ( mode == "debug" ) {
		println( "jfs_dirty_inode" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_dirty_inode" )
		} else {
			@ops_super_dirty_inode( $inode, $flags )
		}
	}
}

probe module( "jfs" ).function( "jfs_put_super" ) {
	if ( mode == "debug" ) {
		println( "jfs_put_super" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_put_super" )
		} else {
			@ops_super_put_super( $sb )
		}
	}
}

probe module( "jfs" ).function( "jfs_sync_fs" ) {
	if ( mode == "debug" ) {
		println( "jfs_sync_fs" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_sync_fs" )
		} else {
			@ops_super_sync_fs( $sb, $wait )
		}
	}
}

probe module( "jfs" ).function( "jfs_quota_read" ) {
	if ( mode == "debug" ) {
		println( "jfs_quota_read" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_quota_read" )
		} else {
			@ops_super_quota_read( $sb, $type, $data, $len, $off )
		}
	}
}

probe module( "jfs" ).function( "jfs_show_options" ) {
	if ( mode == "debug" ) {
		println( "jfs_show_options" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_show_options" )
		} else {
			@ops_super_show_options( $seq, $root )
		}
	}
}

probe module( "jfs" ).function( "jfs_write_inode" ) {
	if ( mode == "debug" ) {
		println( "jfs_write_inode" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_write_inode" )
		} else {
			@ops_super_write_inode( $inode, $wbc )
		}
	}
}

probe module( "jfs" ).function( "jfs_statfs" ) {
	if ( mode == "debug" ) {
		println( "jfs_statfs" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_statfs" )
		} else {
			@ops_super_statfs( $dentry, $buf )
		}
	}
}

probe module( "jfs" ).function( "jfs_setxattr" ) {
	if ( mode == "debug" ) {
		println( "jfs_setxattr" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_setxattr" )
		} else {
			@ops_inode_setxattr( $dentry, $name, $value, $value_len, $flags )
		}
	}
}

probe module( "jfs" ).function( "jfs_setattr" ) {
	if ( mode == "debug" ) {
		println( "jfs_setattr" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_setattr" )
		} else {
			@ops_inode_setattr( $dentry, $iattr )
		}
	}
}

probe module( "jfs" ).function( "jfs_removexattr" ) {
	if ( mode == "debug" ) {
		println( "jfs_removexattr" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_removexattr" )
		} else {
			@ops_inode_removexattr( $dentry, $name )
		}
	}
}

probe module( "jfs" ).function( "jfs_getxattr" ) {
	if ( mode == "debug" ) {
		println( "jfs_getxattr" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_getxattr" )
		} else {
			@ops_inode_getxattr( $dentry, $name, $data, $buf_size )
		}
	}
}

probe module( "jfs" ).function( "jfs_get_acl" ) {
	if ( mode == "debug" ) {
		println( "jfs_get_acl" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_get_acl" )
		} else {
			@ops_inode_get_acl( $inode, $type )
		}
	}
}

probe module( "jfs" ).function( "jfs_listxattr" ) {
	if ( mode == "debug" ) {
		println( "jfs_listxattr" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_listxattr" )
		} else {
			@ops_inode_listxattr( $dentry, $data, $buf_size )
		}
	}
}

probe module( "jfs" ).function( "jfs_fsync" ) {
	if ( mode == "debug" ) {
		println( "jfs_fsync" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_fsync" )
		} else {
			@ops_file_fsync( $file, $start, $end, $datasync )
		}
	}
}

probe module( "jfs" ).function( "jfs_ioctl" ) {
	if ( mode == "debug" ) {
		println( "jfs_ioctl" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_ioctl" )
		} else {
			@ops_file_unlocked_ioctl( $filp, $cmd, $arg )
		}
	}
}

probe module( "jfs" ).function( "jfs_open" ) {
	if ( mode == "debug" ) {
		println( "jfs_open" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_open" )
		} else {
			@ops_file_open( $inode, $file )
		}
	}
}

probe module( "jfs" ).function( "jfs_release" ) {
	if ( mode == "debug" ) {
		println( "jfs_release" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_release" )
		} else {
			@ops_file_release( $inode, $file )
		}
	}
}

probe module( "jfs" ).function( "jfs_symlink" ) {
	if ( mode == "debug" ) {
		println( "jfs_symlink" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_symlink" )
		} else {
			@ops_inode_symlink( $dip, $dentry, $name )
		}
	}
}

probe module( "jfs" ).function( "jfs_unlink" ) {
	if ( mode == "debug" ) {
		println( "jfs_unlink" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_unlink" )
		} else {
			@ops_inode_unlink( $dip, $dentry )
		}
	}
}

probe module( "jfs" ).function( "jfs_link" ) {
	if ( mode == "debug" ) {
		println( "jfs_link" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_link" )
		} else {
			@ops_inode_link( $old_dentry, $dir, $dentry )
		}
	}
}

probe module( "jfs" ).function( "jfs_mkdir" ) {
	if ( mode == "debug" ) {
		println( "jfs_mkdir" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_mkdir" )
		} else {
			@ops_inode_mkdir( $dip, $dentry, $mode )
		}
	}
}

probe module( "jfs" ).function( "jfs_create" ) {
	if ( mode == "debug" ) {
		println( "jfs_create" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_create" )
		} else {
			@ops_inode_create( $dip, $dentry, $mode, $excl )
		}
	}
}

probe module( "jfs" ).function( "jfs_lookup" ) {
	if ( mode == "debug" ) {
		println( "jfs_lookup" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_lookup" )
		} else {
			@ops_inode_lookup( $dip, $dentry, $flags )
		}
	}
}

probe module( "jfs" ).function( "jfs_rmdir" ) {
	if ( mode == "debug" ) {
		println( "jfs_rmdir" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_rmdir" )
		} else {
			@ops_inode_rmdir( $dip, $dentry )
		}
	}
}

probe module( "jfs" ).function( "jfs_mknod" ) {
	if ( mode == "debug" ) {
		println( "jfs_mknod" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_mknod" )
		} else {
			@ops_inode_mknod( $dir, $dentry, $mode, $rdev )
		}
	}
}

probe module( "jfs" ).function( "jfs_rename" ) {
	if ( mode == "debug" ) {
		println( "jfs_rename" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_rename" )
		} else {
			@ops_inode_rename( $old_dir, $old_dentry, $new_dir, $new_dentry )
		}
	}
}

probe module( "jfs" ).function( "jfs_ci_hash" ) {
	if ( mode == "debug" ) {
		println( "jfs_ci_hash" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_ci_hash" )
		} else {
			@ops_dentry_d_hash( $dir, $inode, $this )
		}
	}
}

probe module( "jfs" ).function( "jfs_ci_compare" ) {
	if ( mode == "debug" ) {
		println( "jfs_ci_compare" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_ci_compare" )
		} else {
			@ops_dentry_d_compare( $parent, $pinode, $dentry, $inode, $len, $str, $name )
		}
	}
}

probe module( "jfs" ).function( "jfs_ci_revalidate" ) {
	if ( mode == "debug" ) {
		println( "jfs_ci_revalidate" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_ci_revalidate" )
		} else {
			@ops_dentry_d_revalidate( $dentry, $flags )
		}
	}
}

probe module( "jfs" ).function( "jfs_readdir" ) {
	if ( mode == "debug" ) {
		println( "jfs_readdir" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_readdir" )
		} else {
			@ops_file_readdir( $filp, $dirent, $filldir )
		}
	}
}

probe module( "jfs" ).function( "jfs_loglevel_proc_write" ) {
	if ( mode == "debug" ) {
		println( "jfs_loglevel_proc_write" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_loglevel_proc_write" )
		} else {
			@ops_file_write( $file, $buffer, $count, $ppos )
		}
	}
}

probe module( "jfs" ).function( "jfs_loglevel_proc_open" ) {
	if ( mode == "debug" ) {
		println( "jfs_loglevel_proc_open" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_loglevel_proc_open" )
		} else {
			@ops_file_open( $inode, $file )
		}
	}
}

probe module( "jfs" ).function( "jfs_follow_link" ) {
	if ( mode == "debug" ) {
		println( "jfs_follow_link" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_follow_link" )
		} else {
			@ops_inode_follow_link( $dentry, $nd )
		}
	}
}

probe module( "jfs" ).function( "jfs_txanchor_proc_open" ) {
	if ( mode == "debug" ) {
		println( "jfs_txanchor_proc_open" )
	} else {
		if ( mode == "s2e_debug" ) {
			s2e_message( "jfs_txanchor_proc_open" )
		} else {
			@ops_file_open( $inode, $file )
		}
	}
}

/*
 * inode;get_acl=jfs_get_acl
 * inode;setattr=jfs_setattr
 * inode;listxattr=jfs_listxattr
 * inode;setxattr=jfs_setxattr
 * inode;removexattr=jfs_removexattr
 * inode;getxattr=jfs_getxattr
 * file;llseek=generic_file_llseek
 * file;unlocked_ioctl=jfs_ioctl
 * file;fsync=jfs_fsync
 * inode;removexattr=jfs_removexattr
 * inode;getxattr=jfs_getxattr
 * inode;listxattr=jfs_listxattr
 * inode;setxattr=jfs_setxattr
 * inode;setattr=jfs_setattr
 * file;release=single_release
 * file;llseek=seq_lseek
 * file;read=seq_read
 * file;splice_read=generic_file_splice_read
 * file;splice_write=generic_file_splice_write
 * file;aio_write=generic_file_aio_write
 * file;write=do_sync_write
 * file;llseek=generic_file_llseek
 * file;aio_read=generic_file_aio_read
 * file;read=do_sync_read
 * file;mmap=generic_file_mmap
 * file;read=generic_read_dir
 * file;read=seq_read
 * file;release=single_release
 * file;llseek=seq_lseek
 * inode;follow_link=page_follow_link_light
 * inode;readlink=generic_readlink
 * inode;put_link=page_put_link
 */
